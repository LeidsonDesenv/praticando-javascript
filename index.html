<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Praticando JavaScript</title>
  </head>
  <body>
    <fieldset>
      <legend>Localizador de Casas a venda</legend>
      Digite sua renda anual: <input type="text" name="income" id="income" onblur="validateIncome(this.value, error)" onfocus="reset()"> <br>
      Digite a qnt de quartos: <input type="number" name="bedroom" id="bedroom"  min="1" onblur="validateBedRooms(this.value, error)"> <br>
      Escolha o estado:
      <select class="" name="state" id="state">
        <option value="SP">SP</option>
        <option value="RJ">RJ</option>
        <option value="MG">MG</option>
        <option value="ES">ES</option>
      </select> <br> <br>
      <button type="button" name="button" onclick="housePriceCalc(income.value)">Calcular Valor Disponível</button>
      <button type="button" name="button" onclick="toLocate()">Localizar</button>
    </fieldset>
    <p id="error" style="background-color: #ec6f6f; color:#fff"></p>

  <script type="text/javascript">

      //verifica se o campo é numérico e mostra a mensagem caso não for
     function validateIncome(value)
     {
        if(isNaN(value)){
          document.getElementById("error").innerHTML = "O campo renda deve ser um número";
        }
     }
    // verifica se o campo é numérico e mostra mensagem
     function validateBedRooms(value)
     {
        if(isNaN(value)){

            document.getElementById("error").innerHTML = 'A qnt de quartos precisa ser marcada';
        }
     }

     //remove o texto do campo de mensagem em vermelho
     function reset(){
           document.getElementById("error").innerHTML = "";
     }

     function housePriceCalc(value)
     {
       var result = value * 4;
       alert("Você pode escolher casas no valor de até R$ "+ result);
     }
     function toLocate(){
       var beds = document.getElementById("bedroom").value;
       var income =  document.getElementById("income").value;
       var state =  document.getElementById("state").value;
       if(income == "" || beds == ""){
         alert("Prencha todos os campos da pesquisa!");
       }
       else{
        var price = Math.floor(Math.random() * (income * 4) );
         alert("Foi encontrada uma Casa\n"+
                "Com "+ beds +" quartos\n"+
                "Em " + state + "\n Valor "+ price);
       }
     }

  </script>
  </body>
</html>
